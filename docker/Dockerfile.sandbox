FROM node:22-slim

RUN apt-get update && apt-get install -y \
    git \
    curl \
    wget \
    python3 \
    python3-pip \
    build-essential \
    jq \
    tree \
    && rm -rf /var/lib/apt/lists/*

RUN npm install -g \
    typescript \
    tsx \
    vite \
    create-vite \
    create-next-app \
    prisma \
    drizzle-kit \
    pnpm \
    yarn

RUN mkdir -p /workspace && chown node:node /workspace

USER node
WORKDIR /workspace

CMD ["sleep", "infinity"]
